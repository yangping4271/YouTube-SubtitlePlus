<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YouTube本地字幕</title>
    <link rel="stylesheet" href="popup.css">
</head>
<body>
    <div class="container">
        <!-- 精简的标题栏 -->
        <div class="header">
            <div class="header-content">
                <div class="app-info">
                    <h1>🎥 YouTube字幕助手</h1>
                    <span class="version">v1.0.0</span>
                </div>
                <!-- 主开关 -->
                <label class="master-toggle">
                    <input type="checkbox" id="subtitleToggle">
                    <span class="toggle-slider"></span>
                </label>
            </div>
        </div>

        <!-- 标签页导航 -->
        <div class="tab-navigation">
            <button class="tab-button active" data-tab="files">
                <span class="tab-icon">📁</span>
                <span class="tab-text">文件管理</span>
            </button>
            <button class="tab-button" data-tab="settings">
                <span class="tab-icon">⚙️</span>
                <span class="tab-text">样式设定</span>
            </button>
            <button class="tab-button" data-tab="about">
                <span class="tab-icon">ℹ️</span>
                <span class="tab-text">关于</span>
            </button>
        </div>

        <!-- 标签页内容 -->
        <div class="main-content">
            <!-- 文件管理标签页 -->
            <div class="tab-content active" id="filesTab">
                <!-- 快捷操作区 -->
                <div class="quick-actions">
                    <div class="status-card">
                        <div class="status-info">
                            <span class="status-label">英文</span>
                            <span class="status-count" id="englishCount">0条</span>
                        </div>
                        <div class="status-divider"></div>
                        <div class="status-info">
                            <span class="status-label">中文</span>
                            <span class="status-count" id="chineseCount">0条</span>
                        </div>
                        <button class="clear-all-btn" id="clearButton" title="清除所有字幕">
                            <span>🗑️</span>
                        </button>
                    </div>
                </div>

                <!-- 文件上传区 -->
                <div class="file-upload-section">
                    <!-- 英文字幕 -->
                    <div class="file-card" id="englishCard">
                        <div class="file-header">
                            <span class="file-flag">🇺🇸</span>
                            <span class="file-type">英文字幕</span>
                            <span class="file-formats">SRT/VTT</span>
                        </div>
                        <div class="file-drop-zone" id="englishUploadArea">
                            <div class="drop-content">
                                <div class="drop-icon">📄</div>
                                <div class="drop-text">
                                    <strong>拖拽或点击上传</strong>
                                    <p>选择英文字幕文件</p>
                                </div>
                            </div>
                            <input type="file" id="englishFileInput" accept=".srt,.vtt" hidden>
                        </div>
                        <div class="file-info" id="englishFileInfo">
                            <span class="file-name" id="englishFileName" title="">未选择文件</span>
                            <button class="file-remove" id="englishRemove" style="display: none;" title="移除此文件">×</button>
                        </div>
                    </div>

                    <!-- 中文字幕 -->
                    <div class="file-card" id="chineseCard">
                        <div class="file-header">
                            <span class="file-flag">🇨🇳</span>
                            <span class="file-type">中文字幕</span>
                            <span class="file-formats">SRT/VTT</span>
                        </div>
                        <div class="file-drop-zone" id="chineseUploadArea">
                            <div class="drop-content">
                                <div class="drop-icon">📄</div>
                                <div class="drop-text">
                                    <strong>拖拽或点击上传</strong>
                                    <p>选择中文字幕文件</p>
                                </div>
                            </div>
                            <input type="file" id="chineseFileInput" accept=".srt,.vtt" hidden>
                        </div>
                        <div class="file-info" id="chineseFileInfo">
                            <span class="file-name" id="chineseFileName" title="">未选择文件</span>
                            <button class="file-remove" id="chineseRemove" style="display: none;" title="移除此文件">×</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 样式设定标签页 -->
            <div class="tab-content" id="settingsTab">
                <!-- 语言切换区 -->
                <div class="language-switcher">
                    <div class="switch-header">
                        <span class="switch-label">当前语言</span>
                        <label class="sync-toggle">
                            <input type="checkbox" id="syncSettings">
                            <span class="sync-slider"></span>
                            <span class="sync-text">同步</span>
                        </label>
                    </div>
                    <div class="language-buttons">
                        <button class="lang-btn active" data-lang="english" id="englishTab">
                            <span class="lang-flag">🇺🇸</span>
                            <span class="lang-name">English</span>
                        </button>
                        <button class="lang-btn" data-lang="chinese" id="chineseTab">
                            <span class="lang-flag">🇨🇳</span>
                            <span class="lang-name">中文</span>
                        </button>
                    </div>
                </div>

                <!-- 实时预览 -->
                <div class="preview-card">
                    <div class="preview-header">
                        <span>🔍 实时预览</span>
                    </div>
                    <div class="preview-stage">
                        <div class="preview-subtitle english" id="previewEnglish">Sample English Subtitle</div>
                        <div class="preview-subtitle chinese" id="previewChinese">示例中文字幕</div>
                    </div>
                </div>

                <!-- 快速预设 -->
                <div class="preset-card">
                    <div class="preset-header">
                        <span>⚡ 快速预设</span>
                    </div>
                    <div class="preset-grid" id="presetGrid">
                        <!-- English presets -->
                        <div class="preset-group english-presets" id="englishPresets">
                            <button class="preset-item active" data-preset="standard" data-lang="english">
                                <span class="preset-icon">📺</span>
                                <span class="preset-name">标准</span>
                            </button>
                            <button class="preset-item" data-preset="large" data-lang="english">
                                <span class="preset-icon">🔍</span>
                                <span class="preset-name">大字幕</span>
                            </button>
                            <button class="preset-item" data-preset="contrast" data-lang="english">
                                <span class="preset-icon">⚡</span>
                                <span class="preset-name">高对比</span>
                            </button>
                            <button class="preset-item" data-preset="cinema" data-lang="english">
                                <span class="preset-icon">🎦</span>
                                <span class="preset-name">影院</span>
                            </button>
                        </div>
                        
                        <!-- Chinese presets -->
                        <div class="preset-group chinese-presets" id="chinesePresets" style="display: none;">
                            <button class="preset-item active" data-preset="standard" data-lang="chinese">
                                <span class="preset-icon">📺</span>
                                <span class="preset-name">标准</span>
                            </button>
                            <button class="preset-item" data-preset="large" data-lang="chinese">
                                <span class="preset-icon">🔍</span>
                                <span class="preset-name">大字幕</span>
                            </button>
                            <button class="preset-item" data-preset="contrast" data-lang="chinese">
                                <span class="preset-icon">⚡</span>
                                <span class="preset-name">高对比</span>
                            </button>
                            <button class="preset-item" data-preset="cinema" data-lang="chinese">
                                <span class="preset-icon">🎦</span>
                                <span class="preset-name">影院</span>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- 详细设置 -->
                <div class="settings-card">
                    <div class="settings-header">
                        <span>⚙️ 详细设置</span>
                        <button class="reset-btn" id="resetSettings" title="恢复默认">
                            <span>🔄</span>
                        </button>
                    </div>
                    
                    <div class="settings-grid">
                        <!-- 字体大小 -->
                        <div class="setting-item">
                            <div class="setting-label">
                                <span class="setting-icon">📏</span>
                                <span class="setting-name">字体大小</span>
                                <span class="setting-value" id="fontSizeValue">32px</span>
                            </div>
                            <input type="range" id="fontSize" min="16" max="72" value="32" class="setting-slider">
                        </div>

                        <!-- 字体颜色 -->
                        <div class="setting-item">
                            <div class="setting-label">
                                <span class="setting-icon">🎨</span>
                                <span class="setting-name">字体颜色</span>
                                <span class="color-preview" id="colorPreview"></span>
                            </div>
                            <div class="color-selector">
                                <select id="fontColorPreset" class="setting-select">
                                    <option value="#ffffff">白色</option>
                                    <option value="#ffff00">黄色</option>
                                    <option value="#00ff00">绿色</option>
                                    <option value="#ff0000">红色</option>
                                    <option value="#0000ff">蓝色</option>
                                    <option value="#ffa500">橙色</option>
                                    <option value="#800080">紫色</option>
                                    <option value="#ffc0cb">粉色</option>
                                    <option value="custom">自定义...</option>
                                </select>
                                <input type="color" id="fontColor" value="#ffffff" class="color-picker" style="display: none;">
                            </div>
                        </div>

                        <!-- 背景透明度 -->
                        <div class="setting-item">
                            <div class="setting-label">
                                <span class="setting-icon">🌫️</span>
                                <span class="setting-name">背景透明度</span>
                                <span class="setting-value" id="bgOpacityValue">20%</span>
                            </div>
                            <input type="range" id="bgOpacity" min="0" max="100" value="20" class="setting-slider">
                        </div>

                        <!-- 字幕位置 -->
                        <div class="setting-item">
                            <div class="setting-label">
                                <span class="setting-icon">📍</span>
                                <span class="setting-name">字幕位置</span>
                            </div>
                            <select id="subtitlePosition" class="setting-select">
                                <option value="bottom">底部</option>
                                <option value="top">顶部</option>
                                <option value="center">中央</option>
                            </select>
                        </div>
                    </div>
                    
                    <!-- 高级设置折叠 -->
                    <div class="advanced-toggle" id="advancedToggle">
                        <span>▶ 高级设置</span>
                    </div>
                    
                    <div class="advanced-settings" id="advancedSettings">
                        <div class="setting-item">
                            <div class="setting-label">
                                <span class="setting-icon">🎭</span>
                                <span class="setting-name">字体类型</span>
                            </div>
                            <select id="fontFamily" class="setting-select">
                                <!-- 动态填充 -->
                            </select>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-label">
                                <span class="setting-icon">💪</span>
                                <span class="setting-name">字体粗细</span>
                            </div>
                            <select id="fontWeight" class="setting-select">
                                <option value="300">细体</option>
                                <option value="400">正常</option>
                                <option value="500">中等</option>
                                <option value="600">半粗</option>
                                <option value="700" selected>粗体</option>
                                <option value="800">更粗</option>
                                <option value="900">最粗</option>
                            </select>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-label">
                                <span class="setting-icon">🌟</span>
                                <span class="setting-name">文字阴影</span>
                                <span class="setting-value" id="textShadowValue">2px</span>
                            </div>
                            <input type="range" id="textShadow" min="0" max="8" value="2" step="1" class="setting-slider">
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-label">
                                <span class="setting-icon">📐</span>
                                <span class="setting-name">行高</span>
                                <span class="setting-value" id="lineHeightValue">1.3</span>
                            </div>
                            <input type="range" id="lineHeight" min="1.0" max="2.0" value="1.3" step="0.1" class="setting-slider">
                        </div>
                    </div>
                </div>
            </div>

            <!-- 关于标签页 -->
            <div class="tab-content" id="aboutTab">
                <div class="about-card">
                    <div class="app-logo">
                        <div class="logo-icon">🎥</div>
                        <div class="logo-text">
                            <h3>YouTube字幕助手</h3>
                            <span class="version">v1.0.0</span>
                        </div>
                    </div>
                    
                    <div class="feature-list">
                        <div class="feature-item">
                            <span class="feature-icon">🌍</span>
                            <span class="feature-text">双语字幕显示</span>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">🎨</span>
                            <span class="feature-text">自定义样式</span>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">📱</span>
                            <span class="feature-text">全屏适配</span>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">⚡</span>
                            <span class="feature-text">实时同步</span>
                        </div>
                    </div>
                    
                    <div class="about-actions">
                        <button class="about-btn" id="helpLink">
                            <span>❓</span>
                            <span>使用帮助</span>
                        </button>
                        <button class="about-btn" id="feedbackLink">
                            <span>📨</span>
                            <span>反馈意见</span>
                        </button>
                    </div>
                </div>
                
                <div class="tips-card">
                    <div class="tips-header">
                        <span>💡 使用技巧</span>
                    </div>
                    <div class="tip-item">
                        <span class="tip-number">1</span>
                        <span class="tip-text">支持SRT和VTT格式字幕文件</span>
                    </div>
                    <div class="tip-item">
                        <span class="tip-number">2</span>
                        <span class="tip-text">拖拽文件到上传区域即可加载</span>
                    </div>
                    <div class="tip-item">
                        <span class="tip-number">3</span>
                        <span class="tip-text">开启同步设置可统一调整样式</span>
                    </div>
                    <div class="tip-item">
                        <span class="tip-number">4</span>
                        <span class="tip-text">在全屏模式下效果更佳</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- 状态栏 -->
        <div class="status-bar">
            <div class="status-message" id="statusMessage"></div>
            <div class="save-indicator" id="saveStatus">
                <span class="save-icon">✅</span>
                <span class="save-text">已保存</span>
            </div>
        </div>
    </div>

    <script src="popup.js"></script>
</body>
</html>