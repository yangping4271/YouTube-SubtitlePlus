/* ===========================================
 * YouTube本地字幕样式系统
 * 完整的字幕显示样式定义和自定义指南
 * =========================================== */

/* 
 * 主字幕容器样式
 * 用途：定义字幕的基础布局和外观
 * 可自定义项：位置、大小、颜色、背景、边距等
 */
#movie_player .subtitle-overlay-container {
  /* 定位系统 - 控制字幕在视频中的位置 */
  position: absolute;           /* 相对于视频播放器定位 */
  bottom: 80px;                /* 距离播放器底部距离，可调整：60px-120px */
  left: 50%;                   /* 水平居中定位基准点 */
  transform: translateX(-50%); /* 确保完美水平居中 */
  
  /* 层级控制 - 确保字幕显示在最顶层 */
  z-index: 2147483647 !important;      /* 最高层级，避免被其他元素遮挡 */
  pointer-events: none !important;     /* 禁用鼠标事件，不影响视频操作 */
  
  /* 字体样式 - 控制字幕文字外观 */
  font-family: 'Helvetica Neue', Arial, sans-serif; /* 字体族，可改为：微软雅黑, SimHei 等 */
  font-size: 18px;             /* 字体大小，建议范围：12px-32px */
  font-weight: bold;           /* 字体粗细：normal, bold, 600, 700 等 */
  color: white;                /* 字体颜色，可改为：#ffffff, #ffff00, #00ff00 等 */
  
  /* 文字效果 - 增强文字可读性 */
  text-shadow: 2px 2px 4px rgba(0,0,0,0.8); /* 文字阴影：X偏移 Y偏移 模糊度 颜色 */
  
  /* 背景样式 - 字幕背景框 */
  background-color: rgba(0,0,0,0.7);     /* 背景颜色和透明度，0.7=70%透明度 */
  padding: 8px 16px;                     /* 内边距：上下8px 左右16px */
  border-radius: 4px;                    /* 圆角边框：0px=直角，8px=圆角 */
  border: 1px solid rgba(255,255,255,0.2); /* 边框：宽度 样式 颜色 */
  
  /* 尺寸和布局 */
  max-width: 80%;              /* 最大宽度，建议：70%-90% */
  text-align: center;          /* 文字对齐：left, center, right */
  line-height: 1.4;            /* 行高，建议：1.2-1.6 */
  
  /* 显示控制 */
  display: none;               /* 默认隐藏，通过JS控制显示 */
  word-wrap: break-word;       /* 长词自动换行 */
  
  /* 视觉效果 */
  backdrop-filter: blur(4px);  /* 背景模糊效果：0px-8px */
  transition: opacity 0.3s ease-in-out; /* 淡入淡出动画时间 */
}

/* 
 * 响应式设计 - 移动设备适配
 * 用途：在小屏幕设备上优化字幕显示
 * 自动触发：屏幕宽度 ≤ 768px（平板和手机）
 */
@media (max-width: 768px) {
  #movie_player .subtitle-overlay-container {
    font-size: 14px;           /* 小屏幕字体，可调整：10px-18px */
    bottom: 60px;              /* 小屏幕底部距离，可调整：40px-80px */
    max-width: 90%;            /* 小屏幕最大宽度，可调整：85%-95% */
    padding: 6px 12px;         /* 小屏幕内边距，减少空间占用 */
  }
}

/* 
 * 大屏幕优化 - 高分辨率显示器适配
 * 用途：在大屏幕上提供更好的字幕显示效果
 * 自动触发：屏幕宽度 ≥ 1920px（高分辨率显示器）
 */
@media (min-width: 1920px) {
  #movie_player .subtitle-overlay-container {
    font-size: 22px;          /* 大屏幕字体，可调整：20px-28px */
    bottom: 100px;            /* 大屏幕底部距离，可调整：80px-140px */
  }
}

/* 
 * 全屏模式样式 - YouTube全屏播放时的字幕适配
 * 用途：在全屏模式下优化字幕位置和大小
 * 触发条件：YouTube播放器进入全屏模式时自动应用
 */
.ytp-fullscreen #movie_player .subtitle-overlay-container {
  bottom: 120px;              /* 全屏模式底部距离，可调整：100px-160px */
  font-size: 24px;            /* 全屏模式字体大小，可调整：20px-32px */
}

/* 
 * 剧场模式样式 - YouTube剧场模式时的字幕适配
 * 用途：在剧场模式（宽屏模式）下优化字幕显示
 * 触发条件：YouTube播放器进入剧场模式时自动应用
 */
.ytp-big-mode #movie_player .subtitle-overlay-container {
  bottom: 100px;              /* 剧场模式底部距离，可调整：80px-120px */
  font-size: 20px;            /* 剧场模式字体大小，可调整：18px-24px */
}

/* 
 * ===============================================
 * 主题样式系统 - 不同视觉主题的字幕外观
 * ===============================================
 */

/* 
 * 亮色主题 - 适合浅色背景的视频
 * 用途：在明亮的视频内容上提供深色字幕
 * 使用方法：通过JavaScript添加 'light-theme' 类名激活
 */
#movie_player .subtitle-overlay-container.light-theme {
  color: black;                              /* 深色文字，适合亮背景 */
  background-color: rgba(255,255,255,0.9);   /* 白色半透明背景，可调整透明度：0.7-1.0 */
  text-shadow: 1px 1px 2px rgba(255,255,255,0.8); /* 白色文字阴影，增强可读性 */
  border: 1px solid rgba(0,0,0,0.2);         /* 深色边框，提供对比度 */
}

/* 
 * 高对比度主题 - 最强视觉对比度
 * 用途：为视力不佳用户或极端环境下提供最佳可读性
 * 使用方法：通过JavaScript添加 'high-contrast' 类名激活
 */
#movie_player .subtitle-overlay-container.high-contrast {
  color: yellow;                             /* 高亮黄色文字，最强对比度 */
  background-color: rgba(0,0,0,0.9);         /* 近不透明黑色背景，可调整：0.8-1.0 */
  text-shadow: 2px 2px 4px rgba(0,0,0,1);    /* 重黑色阴影，最强轮廓 */
  border: 2px solid yellow;                  /* 黄色边框，与文字颜色一致 */
}

/* 
 * ===============================================
 * 动画效果系统 - 字幕显示/隐藏动画
 * ===============================================
 */

/* 
 * 淡入动画 - 字幕出现时的动画效果
 * 用途：字幕显示时的平滑过渡效果
 * 使用方法：通过JavaScript添加 'fade-in' 类名触发
 * 动画时长：0.3秒，可调整：0.1s-0.5s
 */
#movie_player .subtitle-overlay-container.fade-in {
  animation: subtitleFadeIn 0.3s ease-in-out;
}

/* 
 * 淡出动画 - 字幕隐藏时的动画效果
 * 用途：字幕消失时的平滑过渡效果
 * 使用方法：通过JavaScript添加 'fade-out' 类名触发
 * 动画时长：0.3秒，可调整：0.1s-0.5s
 */
#movie_player .subtitle-overlay-container.fade-out {
  animation: subtitleFadeOut 0.3s ease-in-out;
}

/* 
 * 淡入关键帧动画定义
 * 效果：从透明+向下偏移 → 完全显示+正常位置
 * 自定义选项：
 * - 透明度变化：from opacity: 0 to opacity: 1
 * - 位移距离：translateY(10px) 可调整：5px-20px
 * - 动画曲线：ease-in-out 可改为：linear, ease, ease-in, ease-out
 */
@keyframes subtitleFadeIn {
  from {
    opacity: 0;                            /* 起始：完全透明 */
    transform: translateX(-50%) translateY(10px); /* 起始：向下偏移10px */
  }
  to {
    opacity: 1;                            /* 结束：完全显示 */
    transform: translateX(-50%) translateY(0);     /* 结束：正常位置 */
  }
}

/* 
 * 淡出关键帧动画定义
 * 效果：从完全显示+正常位置 → 透明+向下偏移
 * 自定义选项：与淡入动画相同，但方向相反
 */
@keyframes subtitleFadeOut {
  from {
    opacity: 1;                            /* 起始：完全显示 */
    transform: translateX(-50%) translateY(0);     /* 起始：正常位置 */
  }
  to {
    opacity: 0;                            /* 结束：完全透明 */
    transform: translateX(-50%) translateY(10px);  /* 结束：向下偏移10px */
  }
}

/* 
 * ===============================================
 * 自定义样式指南
 * ===============================================
 * 
 * 🎨 快速自定义字幕样式
 * 
 * 1. 基础外观修改：
 *    - 字体大小：修改 font-size 值（建议：12px-32px）
 *    - 字体颜色：修改 color 值（如：#ffffff, #ffff00, #00ff00）
 *    - 背景色：修改 background-color 的 rgba 值
 *    - 透明度：调整 rgba 最后一个数值（0.0-1.0）
 * 
 * 2. 位置调整：
 *    - 底部距离：修改 bottom 值（建议：60px-120px）
 *    - 宽度限制：修改 max-width 值（建议：70%-90%）
 *    - 内边距：修改 padding 值（如：6px 12px）
 * 
 * 3. 文字效果：
 *    - 阴影强度：修改 text-shadow 值
 *    - 字体粗细：修改 font-weight（normal, bold, 600, 700）
 *    - 行高：修改 line-height（建议：1.2-1.6）
 * 
 * 4. 响应式调整：
 *    - 小屏幕：修改 @media (max-width: 768px) 中的值
 *    - 大屏幕：修改 @media (min-width: 1920px) 中的值
 * 
 * 5. 播放模式适配：
 *    - 全屏模式：修改 .ytp-fullscreen 中的值
 *    - 剧场模式：修改 .ytp-big-mode 中的值
 * 
 * 6. 主题切换：
 *    - 亮色主题：修改 .light-theme 类的样式
 *    - 高对比度：修改 .high-contrast 类的样式
 * 
 * 7. 动画效果：
 *    - 动画时长：修改 animation 中的时间值
 *    - 动画曲线：修改 ease-in-out 为其他值
 *    - 移动距离：修改 translateY 中的像素值
 * 
 * 💡 常用颜色值：
 *    - 白色：#ffffff 或 white
 *    - 黄色：#ffff00 或 yellow  
 *    - 绿色：#00ff00 或 lime
 *    - 红色：#ff0000 或 red
 *    - 蓝色：#0000ff 或 blue
 * 
 * 📐 常用尺寸值：
 *    - 字体：12px, 14px, 16px, 18px, 20px, 24px
 *    - 距离：40px, 60px, 80px, 100px, 120px
 *    - 透明度：0.5(50%), 0.7(70%), 0.9(90%)
 * 
 * ⚠️  修改注意事项：
 *    - 保持 z-index 和 pointer-events 不变
 *    - 不要删除 transform: translateX(-50%) 居中定位
 *    - 建议备份原文件再修改
 *    - 修改后需要在Chrome扩展页面重新加载扩展
 */